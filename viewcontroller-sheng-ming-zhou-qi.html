<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <title>viewcontroller 生命周期</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="http://xiangyuan.github.io">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="/">85后那些年 </a></h1>
                <nav><ul>
                    <li><a href="/category/android.html">android</a></li>
                    <li class="active"><a href="/category/ios.html">ios</a></li>
                    <li><a href="/category/iosgong-ju.html">ios,工具</a></li>
                    <li><a href="/category/iosopengles.html">ios,opengles</a></li>
                    <li><a href="/category/linux.html">linux</a></li>
                    <li><a href="/category/linux-c.html">linux c</a></li>
                    <li><a href="/category/mac.html">mac</a></li>
                    <li><a href="/category/macphp.html">mac,php</a></li>
                    <li><a href="/category/misc.html">misc</a></li>
                    <li><a href="/category/objc.html">objc</a></li>
                    <li><a href="/category/openglesios.html">opengles,ios</a></li>
                    <li><a href="/category/python.html">python</a></li>
                    <li><a href="/category/pythonios.html">python,ios</a></li>
                    <li><a href="/category/sui-sui-nian.html">碎碎念</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/viewcontroller-sheng-ming-zhou-qi.html" rel="bookmark"
           title="Permalink to viewcontroller 生命周期">viewcontroller 生命周期</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-01-30T17:47:00">
                Mon 30 January 2012
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="/author/xiang-yuan.html">向远</a>
        </address>
<p>In <a href="/category/ios.html">ios</a>. </p>

</footer><!-- /.post-info -->      <div class="line-block">
<div class="line">init、loadView、viewDidLoad、viewDidUnload、dealloc的关系</div>
<div class="line-block">
<div class="line">init方法</div>
<div class="line">在init方法中实例化必要的对象（遵从LazyLoad思想）</div>
<div class="line">init方法中初始化ViewController本身</div>
<div class="line">loadView方法</div>
<div class="line"><br /></div>
</div>
</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/Users/liyajie1209/coamee.com/myblog/content/viewcontroller_lifecircle.rst</tt>, line 9)</p>
Line block ends without a blank line.</div>
<p>当view需要被展示而它却是nil时，viewController会调用该方法。不要直接调用该方法。
|  如果手工维护views，必须重写该方法
|  如果使用IB维护views，必须不能重写该方法
|  loadView和IB构建view
|  viewDidLoad方法
|  重写该方法以进一步定制view
|  在iPhone OS
3.0及之后的版本中，还应该重写viewDidUnload来释放对view的任何索引
|  viewDidLoad后调用数据Model
|  viewDidUnload方法
|  当系统内存吃紧的时候会调用该方法（注：viewController没有被dealloc）
|  内存吃紧时，在iPhone OS
3.0之前didReceiveMemoryWarning是释放无用内存的唯一方式，但是OS
3.0及以后viewDidUnload方法是更好的方式
|
在该方法中将所有IBOutlet（无论是property还是实例变量）置为nil（系统release
view时已经将其release掉了）
|
在该方法中释放其他与view有关的对象、其他在运行时创建（但非系统必须）的对象、在viewDidLoad中被创建的对象、缓存数据等
|  release对象后，将对象置为nil（IBOutlet只需要将其置为nil，系统release
view时已经将其release掉了）
|
一般认为viewDidUnload是viewDidLoad的镜像，因为当view被重新请求时，viewDidLoad还会重新被执行
|
viewDidUnload中被release的对象必须是很容易被重新创建的对象（比如在viewDidLoad或其他方法中创建的对象），不要release用户数据或其他很难被重新创建的对象
|  dealloc方法
|  viewDidUnload和dealloc方法没有关联，dealloc还是继续做它该做的事情
|  举例：</p>
<pre class="literal-block">
/*
 *The viewhierarchy forthis controller has been torn down. This usually happens inresponse tolow memory notifications.
 *All IBOutlets should be released bysetting their propertytonil inorder tofree upasmuch memory aspossible.
 *This isalso a good place torelease other variables thatcan be recreated when needed.
 */
-(void)viewDidUnload {
    self.startButton =nil;
    [setupViewController release];
    setupViewController =nil;
}
-(void)dealloc {
    [startButton release];
    [setupViewController release];
    [super dealloc];
}
</pre>
<p>转自：<a class="reference external" href="http://xyxdasnjss.iteye.com/blog/1563926">http://xyxdasnjss.iteye.com/blog/1563926</a></p>

    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>